---
export interface Props {
  bannerType: string;
  banner: string;
  avatar: string;
  status: string;
  badges: string[];
  avatarDecoration?: string;
}

const { bannerType, banner, avatar, status, badges, avatarDecoration } = Astro.props;
---

<header class="header">
  <div class="banner" style={`background-image: url(${banner});`}>
    <!-- Banner content if any -->
  </div>
  <div class="avatar-container">
    <img src={avatar} alt="Avatar" class="avatar" />
    {avatarDecoration && <img src={avatarDecoration} alt="Avatar Decoration" class="avatar-decoration" />}
    <div class={`status ${status}`}></div>
  </div>
  <div class="badges">
    {badges.map((badge) => (
      <img src={badge} alt="Badge" class="badge" />
    ))}
  </div>
</header>

<style lang="sass">
  .header
    position: relative
    width: 100%

  .banner
    width: 100%
    height: 120px
    background-size: cover
    background-position: center

  .avatar-container
    position: absolute
    bottom: -40px
    left: 16px
    width: 80px
    height: 80px

  .avatar
    width: 100%
    height: 100%
    border-radius: 50%
    border: 6px solid #36393f
    object-fit: cover

  .avatar-decoration
    position: absolute
    top: -15%
    left: -15%
    width: 130%
    height: 130%
    pointer-events: none

  .status
    position: absolute
    bottom: 0
    right: 0
    width: 20px
    height: 20px
    border-radius: 50%
    border: 4px solid #36393f

    &.online
      background-color: #43b581
    &.idle
      background-color: #faa61a
    &.dnd
      background-color: #f04747
    &.offline
      background-color: #747f8d

  .badges
    position: absolute
    bottom: -30px
    left: 106px
    display: flex
    gap: 4px

  .badge
    width: 22px
    height: 22px
</style>